{"version":3,"sources":["webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/facebook/FacebookRedirectCredential.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/google/GoogleRedirectCredential.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userapikey/internal/UserApiKeyAuthProviderClientImpl.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userapikey/UserApiKeyAuthProviderClient.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userpassword/internal/UserPasswordAuthProviderClientImpl.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userpassword/UserPasswordAuthProviderClient.js","webpack:///./node_modules/mongodb-stitch-browser-core/node_modules/whatwg-fetch/fetch.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchTransport.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/common/LocalStorage.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/EventSourceEventStream.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchStreamTransport.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/services/internal/StitchServiceClientImpl.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/common/Version.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/RedirectFragmentFields.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/RedirectKeys.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchRedirectError.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchUserImpl.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchUserFactoryImpl.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchAuthImpl.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchBrowserAppAuthRoutes.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchBrowserAppRoutes.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/StitchAppClientImpl.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/Stitch.js","webpack:///./node_modules/mongodb-stitch-browser-core/dist/esm/index.js"],"names":[],"mappings":";;;;;;;;;;;AAA+D;AAC/D,IAAI,qDAA0B;AAC9B;AACA,sCAAsC,gBAAgB,mCAAoB,cAAc;AACxF,sCAAsC,gBAAgB,mCAAoB,MAAM;AAChF;AACA;AACA;AACA;AACA;AACA,CAAC;AACc,6HAA0B,EAAC;AAC1C,sD;;ACZ6D;AAC7D,IAAI,iDAAwB;AAC5B;AACA,sCAAsC,gBAAgB,iCAAkB,cAAc;AACtF,sCAAsC,gBAAgB,iCAAkB,MAAM;AAC9E;AACA;AACA;AACA;AACA;AACA,CAAC;AACc,qHAAwB,EAAC;AACxC,oD;;ACZA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AAC0E;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,+CAAgC;AACnB,8GAAgC,EAAC;AAChD,4D;;ACrC2F;AACpF,IAAI,yDAA4B;AACvC;AACA;AACA;AACA;AACA;AACA,uBAAuB,yCAAgC;AACvD;AACA;AACA,KAAK;AACL,CAAC,EAAE,yDAA4B,KAAK,yDAA4B,KAAK;AACrE,wD;;ACZA,IAAI,0CAAS,IAAI,SAAI,IAAI,SAAI;AAC7B;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACkG;AACnG,IAAI,qEAAkC;AACtC,IAAI,0CAAS;AACb;AACA,iCAAiC,uCAAwB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,6CAA8B;AACjB,qJAAkC,EAAC;AAClD,8D;;ACrC+F;AACxF,IAAI,6DAA8B;AACzC;AACA;AACA;AACA;AACA;AACA,uBAAuB,2CAAkC;AACzD;AACA;AACA,KAAK;AACL,CAAC,EAAE,6DAA8B,KAAK,6DAA8B,KAAK;AACzE,0D;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,qDAAqD;AACrD,OAAO;AACP;AACA,OAAO;AACP,4EAA4E;AAC5E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEO,SAAS,aAAO;AACvB;AACA;;AAEA,uBAAuB,aAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAO;AACP,aAAa,aAAO,QAAQ,qBAAqB;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,UAAU,aAAO;;AAEV;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA6B,0BAA0B,eAAe;AACtE;;AAEO;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,SAAS,WAAK;AACrB;AACA,sBAAsB,aAAO;;AAE7B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA,WAAK;;AAEL;AACA,eAAe,WAAK;AACpB;AACA,iBAAiB,aAAO;AACxB;AACA;;;ACngB6F;AAC/C;AAC9C,IAAI,2CAAqB;AACzB;AACA;AACA;AACA,8BAA8B,WAAK;AACnC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,uBAAuB,uBAAQ;AAC/B,SAAS;AACT;AACA;AACA,8BAA8B,aAAa;AAC3C,kBAAkB,gCAAiB,CAAC,oCAAqB;AACzD;AACA;AACA,CAAC;AACc,yGAAqB,EAAC;AACrC,iD;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACc,oEAAY,EAAC;AAC5B,wC;;ACpBA,IAAI,8BAAS,IAAI,SAAI,IAAI,SAAI;AAC7B;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACuH;AACxH,IAAI,6CAAsB;AAC1B,IAAI,8BAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gCAAiB,CAAC,oCAAqB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAK,CAAC,oBAAK;AAC7C;AACA;AACA;AACA;AACA;AACA,sCAAsC,oBAAK,CAAC,0BAAW;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,gGAAgG;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,8BAAe;AACF,4GAAsB,EAAC;AACtC,kD;;AChEA,IAAI,mCAAS,IAAI,SAAI,IAAI,SAAI;AAC7B;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,gBAAgB,SAAI,IAAI,SAAI;AAC5B,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AAC8F;AAChD;AACc;AACE;AAC9D,IAAI,uDAA2B;AAC/B,IAAI,mCAAS;AACb;AACA;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,oCAAoC;AACpC,mBAAmB,sBAAO,WAAW,2BAAY;AACjD,mBAAmB,sBAAO,iBAAiB,2BAAY;AACvD,eAAe,WAAK;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,2CAA2C,QAAQ,yCAAkB,KAAK,uBAAQ,sCAAsC,EAAE;AAC1H;AACA;AACA,2BAA2B,0BAAsB,kDAAkD,wBAAwB,EAAE,oBAAoB,sBAAsB,EAAE;AACzK,iCAAiC,2CAA2C,WAAW,EAAE,EAAE;AAC3F;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC,CAAC,yBAAqB;AACR,2HAA2B,EAAC;AAC3C,uD;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACc,4FAAuB,EAAC;AACvC,mD;;;;;ACbA;AAC8B;AAC9B;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wDAAwD;AAC1C,0FAAsB,EAAC;AACtC,kD;;ACVA;AACA;AACA;AACA;AACA;AACA,CAAC,oCAAoC;AACtB,sEAAY,EAAC;AAC5B,wC;;ACPA,IAAI,2BAAS,IAAI,SAAI,IAAI,SAAI;AAC7B;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACqD;AACtD;AACA,IAAI,2BAAS;AACb;AACA;AACA;AACA;AACA,CAAC,CAAC,0BAAW;AACE,oFAAmB,EAAC;AACnC,+C;;ACnBA,IAAI,sBAAS,IAAI,SAAI,IAAI,SAAI;AAC7B;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AAC4D;AAC7D;AACA,IAAI,sBAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,iCAAkB;AACL,0EAAc,EAAC;AAC9B,0C;;AC3B8C;AAC9C,IAAI,2CAAqB;AACzB;AACA;AACA;AACA;AACA,mBAAmB,uBAAc;AACjC;AACA;AACA,CAAC;AACc,8GAAqB,EAAC;AACrC,iD;;ACXA,IAAI,sBAAS,IAAI,SAAI,IAAI,SAAI;AAC7B;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,cAAc,SAAI,IAAI,SAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACwC;AACgI;AACpH;AACU;AACpB;AACc;AACI;AAC5D;AACA,IAAI,6BAAc;AAClB,IAAI,sBAAS;AACb;AACA,qCAAqC,sBAAsB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,8BAAqB;AAC5C,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,sCAAsC,gCAAiB,CAAC,oCAAqB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,qBAAY;AAChE,oDAAoD,qBAAY;AAChE;AACA,wDAAwD,2CAA4B,2HAA2H,aAAa,EAAE;AAC9N;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,gCAAiB,CAAC,oCAAqB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,gCAAiB,CAAC,oCAAqB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,2BAAY;AACjC;AACA;AACA,qBAAqB,2BAAY;AACjC;AACA;AACA,qBAAqB,2BAAY;AACjC;AACA,0BAA0B,gCAAM;AAChC;AACA,qBAAqB,2BAAY;AACjC,qBAAqB,2BAAY;AACjC;AACA;AACA,qBAAqB,2BAAY;AACjC,qBAAqB,2BAAY;AACjC;AACA,iBAAiB,2BAAY,gBAAgB,OAAO;AACpD;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,kBAAkB,4BAAa;AAC/B,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,kBAAkB,4BAAa;AAC/B,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAAa;AAC9B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB,4BAAa;AAC9B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB,4BAAa;AAC9B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB,4BAAa;AAC9B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB,4BAAa;AAC9B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB,4BAAa;AAC9B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB,4BAAa;AAC9B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,gCAAgC,qBAAY;AAC5C,gCAAgC,qBAAY;AAC5C,gCAAgC,qBAAY;AAC5C;AACA;AACA;AACA,sBAAsB,4BAAmB;AACzC;AACA;AACA,sBAAsB,4BAAmB;AACzC;AACA,4CAA4C,qBAAY;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,4BAAmB;AAC7C;AACA;AACA,0BAA0B,4BAAmB;AAC7C;AACA;AACA,0BAA0B,4BAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qBAAY;AACzC,6BAA6B,qBAAY;AACzC;AACA;AACA;AACA;AACA;AACA,6BAA6B,qBAAY;AACzC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,6BAAc;AACD,yFAAc,EAAC;AAC9B;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,4BAAmB;AACrC;AACA;AACA;AACA;AACA,eAAe,uBAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,+BAAsB;AACvC;AACA;AACA,iBAAiB,+BAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,+BAAsB;AACvC;AACA;AACA;AACA;AACA,iBAAiB,+BAAsB;AACvC;AACA;AACA;AACA;AACA;AACA,iBAAiB,+BAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,0C;;ACnZA,IAAI,kCAAS,IAAI,SAAI,IAAI,SAAI;AAC7B;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AAC2E;AAC5E,IAAI,qDAA0B;AAC9B,IAAI,kCAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mCAAY;AAC9C;AACA;AACA,CAAC,CAAC,kCAAmB;AACN,6HAA0B,EAAC;AAC1C,sD;;AC5BA,IAAI,8BAAS,IAAI,SAAI,IAAI,SAAI;AAC7B;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACyD;AACY;AACtE,IAAI,6CAAsB;AAC1B,IAAI,8BAAS;AACb;AACA;AACA,+BAA+B,mCAA0B;AACzD;AACA;AACA;AACA,CAAC,CAAC,8BAAe;AACF,iHAAsB,EAAC;AACtC,kD;;ACtBwK;AAClF;AACzB;AACgB;AAC7E,IAAI,uCAAmB;AACvB;AACA,wBAAwB,kCAAmB;AAC3C,0BAA0B,+BAAsB;AAChD,gCAAgC,qCAAsB;AACtD,wBAAwB,uBAAc;AACtC,8BAA8B,kCAAmB;AACjD;AACA;AACA;AACA;AACA;AACA,oCAAoC,0CAA2B;AAC/D;AACA;AACA;AACA;AACA,oCAAoC,0CAA2B;AAC/D;AACA;AACA;AACA;AACA;AACA,gCAAgC,0CAA2B;AAC3D;AACA,mBAAmB,gCAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA,+BAA+B,8BAAe;AAC9C;AACA,kBAAkB,4BAAa;AAC/B;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACc,wGAAmB,EAAC;AACnC;AACA;AACA;AACA,+C;;ACvDuE;AACb;AAC2B;AACZ;AACR;AACjE;AACA;AACA,IAAI,aAAM;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc,2CAA4B,mBAAmB;AAC7F;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc,2CAA4B,mBAAmB;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,2CAA4B;AAC1F;AACA,oCAAoC,mBAAY;AAChD;AACA;AACA;AACA,0CAA0C,+BAA2B;AACrE;AACA;AACA,0CAA0C,yBAAqB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4BAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACc,6DAAM,EAAC;AACtB,kC;;ACjFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmoB;AAChiB;AACN;AACgB;AACM;AACrC;AAC3C;AACqtB;AACxvB,iC","file":"npm.mongodb-stitch-browser-core.0b2748432.js","sourcesContent":["import { FacebookAuthProvider } from \"mongodb-stitch-core-sdk\";\nvar FacebookRedirectCredential = (function () {\n    function FacebookRedirectCredential(redirectUrl, providerName, providerType) {\n        if (providerName === void 0) { providerName = FacebookAuthProvider.DEFAULT_NAME; }\n        if (providerType === void 0) { providerType = FacebookAuthProvider.TYPE; }\n        this.redirectUrl = redirectUrl;\n        this.providerName = providerName;\n        this.providerType = providerType;\n    }\n    return FacebookRedirectCredential;\n}());\nexport default FacebookRedirectCredential;\n//# sourceMappingURL=FacebookRedirectCredential.js.map","import { GoogleAuthProvider } from \"mongodb-stitch-core-sdk\";\nvar GoogleRedirectCredential = (function () {\n    function GoogleRedirectCredential(redirectUrl, providerName, providerType) {\n        if (providerName === void 0) { providerName = GoogleAuthProvider.DEFAULT_NAME; }\n        if (providerType === void 0) { providerType = GoogleAuthProvider.TYPE; }\n        this.redirectUrl = redirectUrl;\n        this.providerName = providerName;\n        this.providerType = providerType;\n    }\n    return GoogleRedirectCredential;\n}());\nexport default GoogleRedirectCredential;\n//# sourceMappingURL=GoogleRedirectCredential.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CoreUserApiKeyAuthProviderClient } from \"mongodb-stitch-core-sdk\";\nvar UserApiKeyAuthProviderClientImpl = (function (_super) {\n    __extends(UserApiKeyAuthProviderClientImpl, _super);\n    function UserApiKeyAuthProviderClientImpl(requestClient, routes) {\n        return _super.call(this, requestClient, routes) || this;\n    }\n    UserApiKeyAuthProviderClientImpl.prototype.createApiKey = function (name) {\n        return _super.prototype.createApiKey.call(this, name);\n    };\n    UserApiKeyAuthProviderClientImpl.prototype.fetchApiKey = function (keyId) {\n        return _super.prototype.fetchApiKey.call(this, keyId);\n    };\n    UserApiKeyAuthProviderClientImpl.prototype.fetchApiKeys = function () {\n        return _super.prototype.fetchApiKeys.call(this);\n    };\n    UserApiKeyAuthProviderClientImpl.prototype.deleteApiKey = function (keyId) {\n        return _super.prototype.deleteApiKey.call(this, keyId);\n    };\n    UserApiKeyAuthProviderClientImpl.prototype.enableApiKey = function (keyId) {\n        return _super.prototype.enableApiKey.call(this, keyId);\n    };\n    UserApiKeyAuthProviderClientImpl.prototype.disableApiKey = function (keyId) {\n        return _super.prototype.disableApiKey.call(this, keyId);\n    };\n    return UserApiKeyAuthProviderClientImpl;\n}(CoreUserApiKeyAuthProviderClient));\nexport default UserApiKeyAuthProviderClientImpl;\n//# sourceMappingURL=UserApiKeyAuthProviderClientImpl.js.map","import UserApiKeyAuthProviderClientImpl from \"./internal/UserApiKeyAuthProviderClientImpl\";\nexport var UserApiKeyAuthProviderClient;\n(function (UserApiKeyAuthProviderClient) {\n    UserApiKeyAuthProviderClient.factory = new (function () {\n        function class_1() {\n        }\n        class_1.prototype.getClient = function (authRequestClient, requestClient, routes) {\n            return new UserApiKeyAuthProviderClientImpl(authRequestClient, routes);\n        };\n        return class_1;\n    }())();\n})(UserApiKeyAuthProviderClient || (UserApiKeyAuthProviderClient = {}));\n//# sourceMappingURL=UserApiKeyAuthProviderClient.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CoreUserPassAuthProviderClient, UserPasswordAuthProvider } from \"mongodb-stitch-core-sdk\";\nvar UserPasswordAuthProviderClientImpl = (function (_super) {\n    __extends(UserPasswordAuthProviderClientImpl, _super);\n    function UserPasswordAuthProviderClientImpl(requestClient, routes) {\n        return _super.call(this, UserPasswordAuthProvider.DEFAULT_NAME, requestClient, routes) || this;\n    }\n    UserPasswordAuthProviderClientImpl.prototype.registerWithEmail = function (email, password) {\n        return _super.prototype.registerWithEmailInternal.call(this, email, password);\n    };\n    UserPasswordAuthProviderClientImpl.prototype.confirmUser = function (token, tokenId) {\n        return _super.prototype.confirmUserInternal.call(this, token, tokenId);\n    };\n    UserPasswordAuthProviderClientImpl.prototype.resendConfirmationEmail = function (email) {\n        return _super.prototype.resendConfirmationEmailInternal.call(this, email);\n    };\n    UserPasswordAuthProviderClientImpl.prototype.resetPassword = function (token, tokenId, password) {\n        return _super.prototype.resetPasswordInternal.call(this, token, tokenId, password);\n    };\n    UserPasswordAuthProviderClientImpl.prototype.sendResetPasswordEmail = function (email) {\n        return _super.prototype.sendResetPasswordEmailInternal.call(this, email);\n    };\n    UserPasswordAuthProviderClientImpl.prototype.callResetPasswordFunction = function (email, password, args) {\n        return _super.prototype.callResetPasswordFunctionInternal.call(this, email, password, args);\n    };\n    return UserPasswordAuthProviderClientImpl;\n}(CoreUserPassAuthProviderClient));\nexport default UserPasswordAuthProviderClientImpl;\n//# sourceMappingURL=UserPasswordAuthProviderClientImpl.js.map","import UserPasswordAuthProviderClientImpl from \"./internal/UserPasswordAuthProviderClientImpl\";\nexport var UserPasswordAuthProviderClient;\n(function (UserPasswordAuthProviderClient) {\n    UserPasswordAuthProviderClient.factory = new (function () {\n        function class_1() {\n        }\n        class_1.prototype.getClient = function (authRequestClient, requestClient, routes) {\n            return new UserPasswordAuthProviderClientImpl(requestClient, routes);\n        };\n        return class_1;\n    }())();\n})(UserPasswordAuthProviderClient || (UserPasswordAuthProviderClient = {}));\n//# sourceMappingURL=UserPasswordAuthProviderClient.js.map","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","import { Response, StitchClientError, StitchClientErrorCode } from \"mongodb-stitch-core-sdk\";\nimport { fetch as fetch } from 'whatwg-fetch';\nvar BrowserFetchTransport = (function () {\n    function BrowserFetchTransport() {\n    }\n    BrowserFetchTransport.prototype.roundTrip = function (request) {\n        var responsePromise = fetch(request.url, {\n            body: request.body,\n            headers: request.headers,\n            method: request.method,\n            mode: 'cors'\n        });\n        var responseTextPromise = responsePromise.then(function (response) {\n            return response.text();\n        });\n        return Promise.all([responsePromise, responseTextPromise]).then(function (values) {\n            var response = values[0];\n            var body = values[1];\n            var headers = {};\n            response.headers.forEach(function (value, key) {\n                headers[key] = value;\n            });\n            return new Response(headers, response.status, body);\n        });\n    };\n    BrowserFetchTransport.prototype.stream = function (request, open, retryRequest) {\n        if (open === void 0) { open = true; }\n        throw new StitchClientError(StitchClientErrorCode.StreamingNotSupported);\n    };\n    return BrowserFetchTransport;\n}());\nexport default BrowserFetchTransport;\n//# sourceMappingURL=BrowserFetchTransport.js.map","var stitchPrefixKey = \"__stitch.client\";\nvar LocalStorage = (function () {\n    function LocalStorage(suiteName) {\n        this.suiteName = suiteName;\n    }\n    LocalStorage.prototype.get = function (key) {\n        return localStorage.getItem(this.getKey(key));\n    };\n    LocalStorage.prototype.set = function (key, value) {\n        localStorage.setItem(this.getKey(key), value);\n    };\n    LocalStorage.prototype.remove = function (key) {\n        localStorage.removeItem(this.getKey(key));\n    };\n    LocalStorage.prototype.getKey = function (forKey) {\n        return stitchPrefixKey + \".\" + this.suiteName + \".\" + forKey;\n    };\n    return LocalStorage;\n}());\nexport default LocalStorage;\n//# sourceMappingURL=LocalStorage.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BaseEventStream, Event, StitchClientError, StitchClientErrorCode, StitchEvent } from \"mongodb-stitch-core-sdk\";\nvar EventSourceEventStream = (function (_super) {\n    __extends(EventSourceEventStream, _super);\n    function EventSourceEventStream(evtSrc, onOpen, onOpenError, reconnecter) {\n        var _this = _super.call(this, reconnecter) || this;\n        _this.evtSrc = evtSrc;\n        _this.onOpenError = onOpenError;\n        _this.openedOnce = false;\n        _this.evtSrc.onopen = function (e) {\n            onOpen(_this);\n            _this.openedOnce = true;\n        };\n        _this.reset();\n        return _this;\n    }\n    EventSourceEventStream.prototype.open = function () {\n        if (this.closed) {\n            throw new StitchClientError(StitchClientErrorCode.StreamClosed);\n        }\n    };\n    EventSourceEventStream.prototype.afterClose = function () {\n        this.evtSrc.close();\n    };\n    EventSourceEventStream.prototype.onReconnect = function (next) {\n        this.evtSrc = next.evtSrc;\n        this.reset();\n        this.events = next.events.concat(this.events);\n    };\n    EventSourceEventStream.prototype.reset = function () {\n        var _this = this;\n        this.evtSrc.onmessage = function (e) {\n            _this.events.push(new Event(Event.MESSAGE_EVENT, e.data));\n            _this.poll();\n        };\n        this.evtSrc.onerror = function (e) {\n            if (e instanceof MessageEvent) {\n                _this.lastErr = e.data;\n                _this.events.push(new Event(StitchEvent.ERROR_EVENT_NAME, _this.lastErr));\n                _this.close();\n                _this.poll();\n                return;\n            }\n            if (!_this.openedOnce) {\n                _this.close();\n                _this.onOpenError(new Error(\"event source failed to open and will not reconnect; check network log for more details\"));\n                return;\n            }\n            _this.evtSrc.close();\n            _this.reconnect();\n        };\n    };\n    return EventSourceEventStream;\n}(BaseEventStream));\nexport default EventSourceEventStream;\n//# sourceMappingURL=EventSourceEventStream.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { ContentTypes, handleRequestError, Headers, Response } from \"mongodb-stitch-core-sdk\";\nimport { fetch as fetch } from 'whatwg-fetch';\nimport BrowserFetchTransport from \"./BrowserFetchTransport\";\nimport EventSourceEventStream from \"./EventSourceEventStream\";\nvar BrowserFetchStreamTransport = (function (_super) {\n    __extends(BrowserFetchStreamTransport, _super);\n    function BrowserFetchStreamTransport() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BrowserFetchStreamTransport.prototype.stream = function (request, open, retryRequest) {\n        if (open === void 0) { open = true; }\n        var reqHeaders = __assign({}, request.headers);\n        reqHeaders[Headers.ACCEPT] = ContentTypes.TEXT_EVENT_STREAM;\n        reqHeaders[Headers.CONTENT_TYPE] = ContentTypes.TEXT_EVENT_STREAM;\n        return fetch(request.url + \"&stitch_validate=true\", {\n            body: request.body,\n            headers: reqHeaders,\n            method: request.method,\n            mode: 'cors'\n        }).then(function (response) {\n            var respHeaders = {};\n            response.headers.forEach(function (value, key) {\n                respHeaders[key] = value;\n            });\n            if (response.status < 200 || response.status >= 300) {\n                return response.text()\n                    .then(function (body) { return handleRequestError(new Response(respHeaders, response.status, body)); });\n            }\n            return new Promise(function (resolve, reject) {\n                return new EventSourceEventStream(new EventSource(request.url), function (stream) { return resolve(stream); }, function (error) { return reject(error); }, retryRequest ?\n                    function () { return retryRequest().then(function (es) { return es; }); }\n                    : undefined);\n            });\n        });\n    };\n    return BrowserFetchStreamTransport;\n}(BrowserFetchTransport));\nexport default BrowserFetchStreamTransport;\n//# sourceMappingURL=BrowserFetchStreamTransport.js.map","var StitchServiceClientImpl = (function () {\n    function StitchServiceClientImpl(proxy) {\n        this.proxy = proxy;\n    }\n    StitchServiceClientImpl.prototype.callFunction = function (name, args, codec) {\n        return this.proxy.callFunction(name, args, codec);\n    };\n    StitchServiceClientImpl.prototype.streamFunction = function (name, args, codec) {\n        return this.proxy.streamFunction(name, args, codec);\n    };\n    return StitchServiceClientImpl;\n}());\nexport default StitchServiceClientImpl;\n//# sourceMappingURL=StitchServiceClientImpl.js.map","var version = \"4.7.1\";\nexport { version as default };\n//# sourceMappingURL=Version.js.map\n","var RedirectFragmentFields;\n(function (RedirectFragmentFields) {\n    RedirectFragmentFields[\"StitchError\"] = \"_stitch_error\";\n    RedirectFragmentFields[\"State\"] = \"_stitch_state\";\n    RedirectFragmentFields[\"UserAuth\"] = \"_stitch_ua\";\n    RedirectFragmentFields[\"LinkUser\"] = \"_stitch_link_user\";\n    RedirectFragmentFields[\"StitchLink\"] = \"_stitch_link\";\n    RedirectFragmentFields[\"ClientAppId\"] = \"_stitch_client_app_id\";\n})(RedirectFragmentFields || (RedirectFragmentFields = {}));\nexport default RedirectFragmentFields;\n//# sourceMappingURL=RedirectFragmentFields.js.map","var RedirectKeys;\n(function (RedirectKeys) {\n    RedirectKeys[\"ProviderName\"] = \"_stitch_redirect_provider_name\";\n    RedirectKeys[\"ProviderType\"] = \"_stitch_redirect_provider_type\";\n    RedirectKeys[\"State\"] = \"_stitch_redirect_state\";\n})(RedirectKeys || (RedirectKeys = {}));\nexport default RedirectKeys;\n//# sourceMappingURL=RedirectKeys.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { StitchError } from \"mongodb-stitch-core-sdk\";\nvar StitchRedirectError = (function (_super) {\n    __extends(StitchRedirectError, _super);\n    function StitchRedirectError(msg) {\n        return _super.call(this, msg) || this;\n    }\n    return StitchRedirectError;\n}(StitchError));\nexport default StitchRedirectError;\n//# sourceMappingURL=StitchRedirectError.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CoreStitchUserImpl } from \"mongodb-stitch-core-sdk\";\nvar StitchUserImpl = (function (_super) {\n    __extends(StitchUserImpl, _super);\n    function StitchUserImpl(id, loggedInProviderType, loggedInProviderName, isLoggedIn, lastAuthActivity, profile, auth) {\n        var _this = _super.call(this, id, loggedInProviderType, loggedInProviderName, isLoggedIn, lastAuthActivity, profile) || this;\n        _this.auth = auth;\n        return _this;\n    }\n    StitchUserImpl.prototype.linkWithCredential = function (credential) {\n        return this.auth.linkWithCredential(this, credential);\n    };\n    StitchUserImpl.prototype.linkUserWithRedirect = function (credential) {\n        return this.auth.linkWithRedirectInternal(this, credential);\n    };\n    return StitchUserImpl;\n}(CoreStitchUserImpl));\nexport default StitchUserImpl;\n//# sourceMappingURL=StitchUserImpl.js.map","import StitchUserImpl from \"./StitchUserImpl\";\nvar StitchUserFactoryImpl = (function () {\n    function StitchUserFactoryImpl(auth) {\n        this.auth = auth;\n    }\n    StitchUserFactoryImpl.prototype.makeUser = function (id, loggedInProviderType, loggedInProviderName, isLoggedIn, lastAuthActivity, userProfile) {\n        return new StitchUserImpl(id, loggedInProviderType, loggedInProviderName, isLoggedIn, lastAuthActivity, userProfile, this.auth);\n    };\n    return StitchUserFactoryImpl;\n}());\nexport default StitchUserFactoryImpl;\n//# sourceMappingURL=StitchUserFactoryImpl.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { detect } from \"detect-browser\";\nimport { AuthEventKind, AuthInfo, CoreStitchAuth, DeviceFields, StitchAuthResponseCredential, StitchClientError, StitchClientErrorCode } from \"mongodb-stitch-core-sdk\";\nimport version from \"../../internal/common/Version\";\nimport RedirectFragmentFields from \"./RedirectFragmentFields\";\nimport RedirectKeys from \"./RedirectKeys\";\nimport StitchRedirectError from \"./StitchRedirectError\";\nimport StitchUserFactoryImpl from \"./StitchUserFactoryImpl\";\nvar alphaNumericCharacters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\nvar StitchAuthImpl = (function (_super) {\n    __extends(StitchAuthImpl, _super);\n    function StitchAuthImpl(requestClient, browserAuthRoutes, authStorage, appInfo, jsdomWindow) {\n        if (jsdomWindow === void 0) { jsdomWindow = window; }\n        var _this = _super.call(this, requestClient, browserAuthRoutes, authStorage) || this;\n        _this.browserAuthRoutes = browserAuthRoutes;\n        _this.authStorage = authStorage;\n        _this.appInfo = appInfo;\n        _this.jsdomWindow = jsdomWindow;\n        _this.listeners = new Set();\n        _this.synchronousListeners = new Set();\n        return _this;\n    }\n    Object.defineProperty(StitchAuthImpl.prototype, \"userFactory\", {\n        get: function () {\n            return new StitchUserFactoryImpl(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StitchAuthImpl.prototype.getProviderClient = function (factory, providerName) {\n        if (isAuthProviderClientFactory(factory)) {\n            return factory.getClient(this, this.requestClient, this.authRoutes);\n        }\n        else {\n            return factory.getNamedClient(providerName, this.requestClient, this.authRoutes);\n        }\n    };\n    StitchAuthImpl.prototype.loginWithCredential = function (credential) {\n        return _super.prototype.loginWithCredentialInternal.call(this, credential);\n    };\n    StitchAuthImpl.prototype.loginWithRedirect = function (credential) {\n        var _this = this;\n        var _a = this.prepareRedirect(credential), redirectUrl = _a.redirectUrl, state = _a.state;\n        this.requestClient.getBaseURL().then(function (baseUrl) {\n            _this.jsdomWindow.location.replace(baseUrl +\n                _this.browserAuthRoutes.getAuthProviderRedirectRoute(credential, redirectUrl, state, _this.deviceInfo));\n        });\n    };\n    StitchAuthImpl.prototype.linkWithRedirectInternal = function (user, credential) {\n        var _this = this;\n        if (this.user !== undefined && user.id !== this.user.id) {\n            return Promise.reject(new StitchClientError(StitchClientErrorCode.UserNoLongerValid));\n        }\n        var _a = this.prepareRedirect(credential), redirectUrl = _a.redirectUrl, state = _a.state;\n        return this.requestClient.getBaseURL().then(function (baseUrl) {\n            var link = baseUrl +\n                _this.browserAuthRoutes.getAuthProviderLinkRedirectRoute(credential, redirectUrl, state, _this.deviceInfo);\n            return (StitchAuthImpl.injectedFetch ? StitchAuthImpl.injectedFetch : fetch)(new Request(link, {\n                credentials: \"include\",\n                headers: {\n                    Authorization: \"Bearer \" + _this.authInfo.accessToken\n                },\n                mode: 'cors'\n            }));\n        }).then(function (response) {\n            _this.jsdomWindow.location.replace(response.headers.get(\"X-Stitch-Location\"));\n        });\n    };\n    StitchAuthImpl.prototype.hasRedirectResult = function () {\n        var isValid = false;\n        try {\n            isValid = this.parseRedirect().isValid;\n            return isValid;\n        }\n        catch (_) {\n            return false;\n        }\n        finally {\n            if (!isValid) {\n                this.cleanupRedirect();\n            }\n        }\n    };\n    StitchAuthImpl.prototype.handleRedirectResult = function () {\n        try {\n            var providerName = this.authStorage.get(RedirectKeys.ProviderName);\n            var providerType = this.authStorage.get(RedirectKeys.ProviderType);\n            var redirectFragment = this.parseRedirect();\n            return this.loginWithCredentialInternal(new StitchAuthResponseCredential(this.processRedirectResult(redirectFragment), providerType, providerName, redirectFragment.asLink)).then(function (user) { return user; });\n        }\n        catch (err) {\n            return Promise.reject(err);\n        }\n    };\n    StitchAuthImpl.prototype.linkWithCredential = function (user, credential) {\n        return _super.prototype.linkUserWithCredentialInternal.call(this, user, credential);\n    };\n    StitchAuthImpl.prototype.logout = function () {\n        if (arguments.length > 0) {\n            return Promise.reject(new StitchClientError(StitchClientErrorCode.UnexpectedArguments));\n        }\n        return _super.prototype.logoutInternal.call(this);\n    };\n    StitchAuthImpl.prototype.logoutUserWithId = function (userId) {\n        return _super.prototype.logoutUserWithIdInternal.call(this, userId);\n    };\n    StitchAuthImpl.prototype.removeUser = function () {\n        if (arguments.length > 0) {\n            return Promise.reject(new StitchClientError(StitchClientErrorCode.UnexpectedArguments));\n        }\n        return _super.prototype.removeUserInternal.call(this);\n    };\n    StitchAuthImpl.prototype.removeUserWithId = function (userId) {\n        return _super.prototype.removeUserWithIdInternal.call(this, userId);\n    };\n    Object.defineProperty(StitchAuthImpl.prototype, \"deviceInfo\", {\n        get: function () {\n            var info = {};\n            if (this.hasDeviceId) {\n                info[DeviceFields.DEVICE_ID] = this.deviceId;\n            }\n            if (this.appInfo.localAppName !== undefined) {\n                info[DeviceFields.APP_ID] = this.appInfo.localAppName;\n            }\n            if (this.appInfo.localAppVersion !== undefined) {\n                info[DeviceFields.APP_VERSION] = this.appInfo.localAppVersion;\n            }\n            var browser = detect();\n            if (browser) {\n                info[DeviceFields.PLATFORM] = browser.name;\n                info[DeviceFields.PLATFORM_VERSION] = browser.version;\n            }\n            else {\n                info[DeviceFields.PLATFORM] = \"web\";\n                info[DeviceFields.PLATFORM_VERSION] = \"0.0.0\";\n            }\n            info[DeviceFields.SDK_VERSION] = version;\n            return info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StitchAuthImpl.prototype.addAuthListener = function (listener) {\n        this.listeners.add(listener);\n        this.onAuthEvent(listener);\n        this.dispatchAuthEvent({\n            kind: AuthEventKind.ListenerRegistered,\n        });\n    };\n    StitchAuthImpl.prototype.addSynchronousAuthListener = function (listener) {\n        this.listeners.add(listener);\n        this.onAuthEvent(listener);\n        this.dispatchAuthEvent({\n            kind: AuthEventKind.ListenerRegistered,\n        });\n    };\n    StitchAuthImpl.prototype.removeAuthListener = function (listener) {\n        this.listeners.delete(listener);\n    };\n    StitchAuthImpl.prototype.onAuthEvent = function (listener) {\n        var _this = this;\n        if (listener) {\n            var _1 = new Promise(function (resolve) {\n                if (listener.onAuthEvent) {\n                    listener.onAuthEvent(_this);\n                }\n                resolve(undefined);\n            });\n        }\n        else {\n            this.listeners.forEach(function (one) {\n                _this.onAuthEvent(one);\n            });\n        }\n    };\n    StitchAuthImpl.prototype.dispatchAuthEvent = function (event) {\n        var _this = this;\n        switch (event.kind) {\n            case AuthEventKind.ActiveUserChanged:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onActiveUserChanged) {\n                        listener.onActiveUserChanged(_this, event.currentActiveUser, event.previousActiveUser);\n                    }\n                });\n                break;\n            case AuthEventKind.ListenerRegistered:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onListenerRegistered) {\n                        listener.onListenerRegistered(_this);\n                    }\n                });\n                break;\n            case AuthEventKind.UserAdded:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onUserAdded) {\n                        listener.onUserAdded(_this, event.addedUser);\n                    }\n                });\n                break;\n            case AuthEventKind.UserLinked:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onUserLinked) {\n                        listener.onUserLinked(_this, event.linkedUser);\n                    }\n                });\n                break;\n            case AuthEventKind.UserLoggedIn:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onUserLoggedIn) {\n                        listener.onUserLoggedIn(_this, event.loggedInUser);\n                    }\n                });\n                break;\n            case AuthEventKind.UserLoggedOut:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onUserLoggedOut) {\n                        listener.onUserLoggedOut(_this, event.loggedOutUser);\n                    }\n                });\n                break;\n            case AuthEventKind.UserRemoved:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onUserRemoved) {\n                        listener.onUserRemoved(_this, event.removedUser);\n                    }\n                });\n                break;\n            default:\n                return this.assertNever(event);\n        }\n    };\n    StitchAuthImpl.prototype.assertNever = function (x) {\n        throw new Error(\"unexpected object: \" + x);\n    };\n    StitchAuthImpl.prototype.dispatchBlockToListeners = function (block) {\n        this.synchronousListeners.forEach(block);\n        this.listeners.forEach(function (listener) {\n            var _ = new Promise(function (resolve) {\n                block(listener);\n                resolve(undefined);\n            });\n        });\n    };\n    StitchAuthImpl.prototype.cleanupRedirect = function () {\n        this.jsdomWindow.history.replaceState(null, \"\", this.pageRootUrl());\n        this.authStorage.remove(RedirectKeys.State);\n        this.authStorage.remove(RedirectKeys.ProviderName);\n        this.authStorage.remove(RedirectKeys.ProviderType);\n    };\n    StitchAuthImpl.prototype.parseRedirect = function () {\n        if (typeof this.jsdomWindow === \"undefined\") {\n            throw new StitchRedirectError(\"running in a non-browser environment\");\n        }\n        if (!this.jsdomWindow.location || !this.jsdomWindow.location.hash) {\n            throw new StitchRedirectError(\"window location hash was undefined\");\n        }\n        var ourState = this.authStorage.get(RedirectKeys.State);\n        var redirectFragment = this.jsdomWindow.location.hash.substring(1);\n        return parseRedirectFragment(redirectFragment, ourState, this.appInfo.clientAppId);\n    };\n    StitchAuthImpl.prototype.processRedirectResult = function (redirectFragment) {\n        try {\n            if (!redirectFragment.isValid) {\n                throw new StitchRedirectError(\"invalid redirect result\");\n            }\n            if (redirectFragment.lastError) {\n                throw new StitchRedirectError(\"error handling redirect: \" + redirectFragment.lastError);\n            }\n            if (!redirectFragment.authInfo) {\n                throw new StitchRedirectError(\"no user auth value was found: it could not be decoded from fragment\");\n            }\n        }\n        catch (err) {\n            throw err;\n        }\n        finally {\n            this.cleanupRedirect();\n        }\n        return redirectFragment.authInfo;\n    };\n    StitchAuthImpl.prototype.prepareRedirect = function (credential) {\n        this.authStorage.set(RedirectKeys.ProviderName, credential.providerName);\n        this.authStorage.set(RedirectKeys.ProviderType, credential.providerType);\n        var redirectUrl = credential.redirectUrl;\n        if (redirectUrl === undefined) {\n            redirectUrl = this.pageRootUrl();\n        }\n        var state = generateState();\n        this.authStorage.set(RedirectKeys.State, state);\n        return { redirectUrl: redirectUrl, state: state };\n    };\n    StitchAuthImpl.prototype.pageRootUrl = function () {\n        return [\n            this.jsdomWindow.location.protocol,\n            \"//\",\n            this.jsdomWindow.location.host,\n            this.jsdomWindow.location.pathname\n        ].join(\"\");\n    };\n    return StitchAuthImpl;\n}(CoreStitchAuth));\nexport default StitchAuthImpl;\nfunction generateState() {\n    var state = \"\";\n    for (var i = 0; i < 64; ++i) {\n        state += alphaNumericCharacters.charAt(Math.floor(Math.random() * alphaNumericCharacters.length));\n    }\n    return state;\n}\nfunction unmarshallUserAuth(data) {\n    var parts = data.split(\"$\");\n    if (parts.length !== 4) {\n        throw new StitchRedirectError(\"invalid user auth data provided while \" +\n            \"marshalling user authentication data: \" +\n            data);\n    }\n    var _a = __read(parts, 4), accessToken = _a[0], refreshToken = _a[1], userId = _a[2], deviceId = _a[3];\n    return new AuthInfo(userId, deviceId, accessToken, refreshToken);\n}\nvar ParsedRedirectFragment = (function () {\n    function ParsedRedirectFragment() {\n        this.stateValid = false;\n        this.clientAppIdValid = false;\n        this.asLink = false;\n    }\n    Object.defineProperty(ParsedRedirectFragment.prototype, \"isValid\", {\n        get: function () {\n            return this.stateValid && this.clientAppIdValid;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ParsedRedirectFragment;\n}());\nfunction parseRedirectFragment(fragment, ourState, ourClientAppId) {\n    var vars = fragment.split(\"&\");\n    var result = new ParsedRedirectFragment();\n    vars.forEach(function (kvp) {\n        var pairParts = kvp.split(\"=\");\n        var pairKey = decodeURIComponent(pairParts[0]);\n        switch (pairKey) {\n            case RedirectFragmentFields.StitchError:\n                result.lastError = decodeURIComponent(pairParts[1]);\n                break;\n            case RedirectFragmentFields.UserAuth:\n                try {\n                    result.authInfo = unmarshallUserAuth(decodeURIComponent(pairParts[1]));\n                }\n                catch (e) {\n                    result.lastError = e;\n                }\n                break;\n            case RedirectFragmentFields.StitchLink:\n                if (pairParts[1] === \"ok\") {\n                    result.asLink = true;\n                }\n                break;\n            case RedirectFragmentFields.State:\n                var theirState = decodeURIComponent(pairParts[1]);\n                if (ourState === theirState) {\n                    result.stateValid = true;\n                }\n                break;\n            case RedirectFragmentFields.ClientAppId:\n                var clientAppId = decodeURIComponent(pairParts[1]);\n                if (ourClientAppId === clientAppId) {\n                    result.clientAppIdValid = true;\n                }\n                break;\n            default:\n                break;\n        }\n    });\n    return result;\n}\nfunction isAuthProviderClientFactory(factory) {\n    return (factory.getClient !== undefined);\n}\n//# sourceMappingURL=StitchAuthImpl.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { base64Encode, StitchAppAuthRoutes } from \"mongodb-stitch-core-sdk\";\nvar StitchBrowserAppAuthRoutes = (function (_super) {\n    __extends(StitchBrowserAppAuthRoutes, _super);\n    function StitchBrowserAppAuthRoutes(clientAppId) {\n        return _super.call(this, clientAppId) || this;\n    }\n    StitchBrowserAppAuthRoutes.prototype.getAuthProviderRedirectRoute = function (credential, redirectUrl, state, deviceInfo) {\n        return this.getAuthProviderLoginRoute(credential.providerName) + \"?redirect=\" + encodeURI(redirectUrl) + \"&state=\" + state + \"&device=\" + this.uriEncodeObject(deviceInfo);\n    };\n    StitchBrowserAppAuthRoutes.prototype.getAuthProviderLinkRedirectRoute = function (credential, redirectUrl, state, deviceInfo) {\n        return this.getAuthProviderLoginRoute(credential.providerName) + \"?redirect=\" + encodeURI(redirectUrl) + \"&state=\" + state + \"&device=\" + this.uriEncodeObject(deviceInfo) + \"&link=true&providerRedirectHeader=true\";\n    };\n    StitchBrowserAppAuthRoutes.prototype.uriEncodeObject = function (obj) {\n        return encodeURIComponent(base64Encode(JSON.stringify(obj)));\n    };\n    return StitchBrowserAppAuthRoutes;\n}(StitchAppAuthRoutes));\nexport default StitchBrowserAppAuthRoutes;\n//# sourceMappingURL=StitchBrowserAppAuthRoutes.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { StitchAppRoutes } from \"mongodb-stitch-core-sdk\";\nimport StitchBrowserAppAuthRoutes from \"./StitchBrowserAppAuthRoutes\";\nvar StitchBrowserAppRoutes = (function (_super) {\n    __extends(StitchBrowserAppRoutes, _super);\n    function StitchBrowserAppRoutes(clientAppId) {\n        var _this = _super.call(this, clientAppId) || this;\n        _this.authRoutes = new StitchBrowserAppAuthRoutes(clientAppId);\n        return _this;\n    }\n    return StitchBrowserAppRoutes;\n}(StitchAppRoutes));\nexport default StitchBrowserAppRoutes;\n//# sourceMappingURL=StitchBrowserAppRoutes.js.map","import { AuthEventKind, AuthRebindEvent, CoreStitchAppClient, CoreStitchServiceClientImpl, StitchAppClientInfo, StitchAppRequestClient } from \"mongodb-stitch-core-sdk\";\nimport StitchServiceClientImpl from \"../../services/internal/StitchServiceClientImpl\";\nimport StitchAuthImpl from \"../auth/internal/StitchAuthImpl\";\nimport StitchBrowserAppRoutes from \"../auth/internal/StitchBrowserAppRoutes\";\nvar StitchAppClientImpl = (function () {\n    function StitchAppClientImpl(clientAppId, config) {\n        this.info = new StitchAppClientInfo(clientAppId, config.dataDirectory, config.localAppName, config.localAppVersion);\n        this.routes = new StitchBrowserAppRoutes(this.info.clientAppId);\n        var requestClient = new StitchAppRequestClient(clientAppId, config.baseUrl, config.transport);\n        this.auth = new StitchAuthImpl(requestClient, this.routes.authRoutes, config.storage, this.info);\n        this.coreClient = new CoreStitchAppClient(this.auth, this.routes);\n        this.serviceClients = [];\n        this.auth.addSynchronousAuthListener(this);\n    }\n    StitchAppClientImpl.prototype.getServiceClient = function (factory, serviceName) {\n        if (isServiceClientFactory(factory)) {\n            var serviceClient = new CoreStitchServiceClientImpl(this.auth, this.routes.serviceRoutes, \"\");\n            this.bindServiceClient(serviceClient);\n            return factory.getClient(serviceClient, this.info);\n        }\n        else {\n            var serviceClient = new CoreStitchServiceClientImpl(this.auth, this.routes.serviceRoutes, serviceName);\n            this.bindServiceClient(serviceClient);\n            return factory.getNamedClient(serviceClient, this.info);\n        }\n    };\n    StitchAppClientImpl.prototype.getGeneralServiceClient = function (serviceName) {\n        var serviceClient = new CoreStitchServiceClientImpl(this.auth, this.routes.serviceRoutes, serviceName);\n        this.bindServiceClient(serviceClient);\n        return new StitchServiceClientImpl(serviceClient);\n    };\n    StitchAppClientImpl.prototype.callFunction = function (name, args) {\n        return this.coreClient.callFunction(name, args);\n    };\n    StitchAppClientImpl.prototype.onActiveUserChanged = function (_, currentActiveUser, previousActiveUser) {\n        this.onRebindEvent(new AuthRebindEvent({\n            currentActiveUser: currentActiveUser,\n            kind: AuthEventKind.ActiveUserChanged,\n            previousActiveUser: previousActiveUser\n        }));\n    };\n    StitchAppClientImpl.prototype.bindServiceClient = function (coreStitchServiceClient) {\n        this.serviceClients.push(coreStitchServiceClient);\n    };\n    StitchAppClientImpl.prototype.onRebindEvent = function (rebindEvent) {\n        this.serviceClients.forEach(function (serviceClient) {\n            serviceClient.onRebindEvent(rebindEvent);\n        });\n    };\n    return StitchAppClientImpl;\n}());\nexport default StitchAppClientImpl;\nfunction isServiceClientFactory(factory) {\n    return factory.getClient !== undefined;\n}\n//# sourceMappingURL=StitchAppClientImpl.js.map","import { StitchAppClientConfiguration } from \"mongodb-stitch-core-sdk\";\nimport LocalStorage from \"./internal/common/LocalStorage\";\nimport BrowserFetchStreamTransport from \"./internal/net/BrowserFetchStreamTransport\";\nimport BrowserFetchTransport from \"./internal/net/BrowserFetchTransport\";\nimport StitchAppClientImpl from \"./internal/StitchAppClientImpl\";\nvar DEFAULT_BASE_URL = \"https://stitch.mongodb.com\";\nvar appClients = {};\nvar Stitch = (function () {\n    function Stitch() {\n    }\n    Object.defineProperty(Stitch, \"defaultAppClient\", {\n        get: function () {\n            if (Stitch.defaultClientAppId === undefined) {\n                throw new Error(\"default app client has not yet been initialized/set\");\n            }\n            return appClients[Stitch.defaultClientAppId];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Stitch.getAppClient = function (clientAppId) {\n        if (appClients[clientAppId] === undefined) {\n            throw new Error(\"client for app '\" + clientAppId + \"' has not yet been initialized\");\n        }\n        return appClients[clientAppId];\n    };\n    Stitch.hasAppClient = function (clientAppId) {\n        return appClients[clientAppId] !== undefined;\n    };\n    Stitch.initializeDefaultAppClient = function (clientAppId, config) {\n        if (config === void 0) { config = new StitchAppClientConfiguration.Builder().build(); }\n        if (clientAppId === undefined || clientAppId === \"\") {\n            throw new Error(\"clientAppId must be set to a non-empty string\");\n        }\n        if (Stitch.defaultClientAppId !== undefined) {\n            throw new Error(\"default app can only be set once; currently set to '\" + Stitch.defaultClientAppId + \"'\");\n        }\n        var client = Stitch.initializeAppClient(clientAppId, config);\n        Stitch.defaultClientAppId = clientAppId;\n        return client;\n    };\n    Stitch.initializeAppClient = function (clientAppId, config) {\n        if (config === void 0) { config = new StitchAppClientConfiguration.Builder().build(); }\n        if (clientAppId === undefined || clientAppId === \"\") {\n            throw new Error(\"clientAppId must be set to a non-empty string\");\n        }\n        if (appClients[clientAppId] !== undefined) {\n            throw new Error(\"client for app '\" + clientAppId + \"' has already been initialized\");\n        }\n        var builder = config.builder ? config.builder() : new StitchAppClientConfiguration.Builder(config);\n        if (builder.storage === undefined) {\n            builder.withStorage(new LocalStorage(clientAppId));\n        }\n        if (builder.transport === undefined) {\n            if (window[\"EventSource\"]) {\n                builder.withTransport(new BrowserFetchStreamTransport());\n            }\n            else {\n                builder.withTransport(new BrowserFetchTransport());\n            }\n        }\n        if (builder.baseUrl === undefined || builder.baseUrl === \"\") {\n            builder.withBaseUrl(DEFAULT_BASE_URL);\n        }\n        if (builder.localAppName === undefined || builder.localAppName === \"\") {\n            builder.withLocalAppName(Stitch.localAppName);\n        }\n        if (builder.localAppVersion === undefined ||\n            builder.localAppVersion === \"\") {\n            builder.withLocalAppVersion(Stitch.localAppVersion);\n        }\n        var client = new StitchAppClientImpl(clientAppId, builder.build());\n        appClients[clientAppId] = client;\n        return client;\n    };\n    Stitch.clearApps = function () {\n        appClients = {};\n    };\n    return Stitch;\n}());\nexport default Stitch;\n//# sourceMappingURL=Stitch.js.map","import { AnonymousAuthProvider, AnonymousCredential, BSON, CustomAuthProvider, CustomCredential, FacebookAuthProvider, FacebookCredential, FunctionAuthProvider, FunctionCredential, GoogleAuthProvider, GoogleCredential, MemoryStorage, ServerApiKeyAuthProvider, ServerApiKeyCredential, StitchAppClientConfiguration, StitchAppClientInfo, StitchClientError, StitchClientErrorCode, StitchRequestError, StitchRequestErrorCode, StitchServiceError, StitchServiceErrorCode, StitchUserIdentity, Stream, UserApiKey, UserApiKeyAuthProvider, UserApiKeyCredential, UserPasswordAuthProvider, UserPasswordCredential, UserType } from \"mongodb-stitch-core-sdk\";\nimport FacebookRedirectCredential from \"./core/auth/providers/facebook/FacebookRedirectCredential\";\nimport GoogleRedirectCredential from \"./core/auth/providers/google/GoogleRedirectCredential\";\nimport { UserApiKeyAuthProviderClient } from \"./core/auth/providers/userapikey/UserApiKeyAuthProviderClient\";\nimport { UserPasswordAuthProviderClient } from \"./core/auth/providers/userpassword/UserPasswordAuthProviderClient\";\nimport BrowserFetchTransport from \"./core/internal/net/BrowserFetchTransport\";\nimport Stitch from \"./core/Stitch\";\nexport { AnonymousAuthProvider, AnonymousCredential, BSON, BrowserFetchTransport, CustomAuthProvider, CustomCredential, FacebookAuthProvider, FacebookCredential, FacebookRedirectCredential, FunctionAuthProvider, FunctionCredential, GoogleAuthProvider, GoogleCredential, GoogleRedirectCredential, MemoryStorage, ServerApiKeyAuthProvider, ServerApiKeyCredential, Stitch, StitchAppClientConfiguration, StitchAppClientInfo, StitchClientError, StitchClientErrorCode, StitchRequestError, StitchRequestErrorCode, StitchServiceError, StitchServiceErrorCode, StitchUserIdentity, Stream, UserApiKey, UserApiKeyAuthProvider, UserApiKeyAuthProviderClient, UserApiKeyCredential, UserPasswordAuthProvider, UserPasswordAuthProviderClient, UserPasswordCredential, UserType, };\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}