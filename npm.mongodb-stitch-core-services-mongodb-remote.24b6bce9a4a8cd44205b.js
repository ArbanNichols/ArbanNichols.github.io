(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{91:function(e,t,n){"use strict";var o,r=n(17),i=function(){function e(e,t,n,o){this.command=e,this.args=t,this.service=n,o&&(this.collectionDecoder=new(function(){function e(){}return e.prototype.decode=function(e){return e instanceof Array?e.map((function(e){return o.decode(e)})):[o.decode(e)]},e}()))}return e.prototype.iterator=function(){return this.executeRead().then((function(e){return e[Symbol.iterator]()}))},e.prototype.first=function(){return this.executeRead().then((function(e){return e[0]}))},e.prototype.toArray=function(){return this.executeRead()},e.prototype.asArray=function(){return this.toArray()},e.prototype.executeRead=function(){return this.service.callFunction(this.command,[this.args],this.collectionDecoder)},e}(),c=n(1);function s(e){switch(e){case"insert":return o.Insert;case"delete":return o.Delete;case"replace":return o.Replace;case"update":return o.Update;default:return o.Unknown}}!function(e){e.Insert="insert",e.Delete="delete",e.Replace="replace",e.Update="update",e.Unknown="unknown"}(o||(o={}));var u,d,a,p,l,f,h,m=function(e){var t={};e.forEach((function(e,n){t[n]=e})),this.insertedIds=t};!function(e){e.InsertedIds="insertedIds"}(u||(u={})),function(e){e.InsertedId="insertedId"}(d||(d={})),function(e){e.MatchedCount="matchedCount",e.ModifiedCount="modifiedCount",e.UpsertedId="upsertedId"}(a||(a={})),function(e){e.DeletedCount="deletedCount"}(p||(p={})),function(e){e.UpdatedFields="updatedFields",e.RemovedFields="removedFields"}(l||(l={})),function(e){e.Id="_id",e.OperationType="operationType",e.FullDocument="fullDocument",e.DocumentKey="documentKey",e.Namespace="ns",e.NamespaceDb="db",e.NamespaceColl="coll",e.UpdateDescription="updateDescription"}(f||(f={})),function(e){e.OperationType="ot",e.FullDocument="fd",e.DocumentKey="dk",e.UpdateDescription="ud",e.StitchDocumentVersion="sdv",e.StitchDocumentHash="sdh"}(h||(h={}));var y=function(){function e(){}return e.prototype.decode=function(e){return new m(e[u.InsertedIds])},e}(),D=function(){function e(){}return e.prototype.decode=function(e){return{insertedId:e[d.InsertedId]}},e}(),v=function(){function e(){}return e.prototype.decode=function(e){return{matchedCount:e[a.MatchedCount],modifiedCount:e[a.ModifiedCount],upsertedId:e[a.UpsertedId]}},e}(),O=function(){function e(){}return e.prototype.decode=function(e){return{deletedCount:e[p.DeletedCount]}},e}(),b=function(){function e(){}return e.prototype.decode=function(e){return c.b.keyPresent(l.UpdatedFields,e),c.b.keyPresent(l.RemovedFields,e),{removedFields:e[l.RemovedFields],updatedFields:e[l.UpdatedFields]}},e}();function g(e,t,n,o){var r,i;return r=t in e?F.updateDescriptionDecoder.decode(e[t]):void 0,n in e?(i=e[n],o&&(i=o.decode(i))):i=void 0,{updateDescription:r,fullDocument:i}}var w=function(){function e(e){this.decoder=e}return e.prototype.decode=function(e){c.b.keyPresent(f.Id,e),c.b.keyPresent(f.OperationType,e),c.b.keyPresent(f.Namespace,e),c.b.keyPresent(f.DocumentKey,e);var t=e[f.Namespace],n=g(e,f.UpdateDescription,f.FullDocument,this.decoder),o=n.updateDescription,r=n.fullDocument;return{documentKey:e[f.DocumentKey],fullDocument:r,id:e[f.Id],namespace:{collection:t[f.NamespaceColl],database:t[f.NamespaceDb]},operationType:s(e[f.OperationType]),updateDescription:o}},e}(),I=function(){function e(e){this.decoder=e}return e.prototype.decode=function(e){c.b.keyPresent(h.OperationType,e),c.b.keyPresent(h.DocumentKey,e);var t,n,o=g(e,h.UpdateDescription,h.FullDocument,this.decoder),r=o.updateDescription,i=o.fullDocument;return t=h.StitchDocumentVersion in e?e[h.StitchDocumentVersion]:void 0,n=h.StitchDocumentHash in e?e[h.StitchDocumentHash]:void 0,{documentKey:e[h.DocumentKey],fullDocument:i,operationType:s(e[h.OperationType]),stitchDocumentHash:n,stitchDocumentVersion:t,updateDescription:r}},e}(),F=function(){function e(){}return e.remoteInsertManyResultDecoder=new y,e.remoteInsertOneResultDecoder=new D,e.remoteUpdateResultDecoder=new v,e.remoteDeleteResultDecoder=new O,e.updateDescriptionDecoder=new b,e.ChangeEventDecoder=w,e.CompactChangeEventDecoder=I,e}(),A=F,C=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},j=function(){function e(e,t,n,o){var r=this;this.name=e,this.databaseName=t,this.service=n,this.codec=o,this.namespace=this.databaseName+"."+this.name,this.baseOperationArgs={collection:r.name,database:r.databaseName}}return e.prototype.withCollectionType=function(t){return new e(this.name,this.databaseName,this.service,t)},e.prototype.find=function(e,t){void 0===e&&(e={});var n=C({},this.baseOperationArgs);return n.query=e,t&&(t.limit&&(n.limit=t.limit),t.projection&&(n.project=t.projection),t.sort&&(n.sort=t.sort)),new i("find",n,this.service,this.codec)},e.prototype.findOne=function(e,t){void 0===e&&(e={});var n=C({},this.baseOperationArgs);return n.query=e,t&&(t.projection&&(n.project=t.projection),t.sort&&(n.sort=t.sort)),this.service.callFunction("findOne",[n],this.codec)},e.prototype.findOneAndUpdate=function(e,t,n){var o=C({},this.baseOperationArgs);return o.filter=e,o.update=t,n&&(n.projection&&(o.projection=n.projection),n.sort&&(o.sort=n.sort),n.upsert&&(o.upsert=!0),n.returnNewDocument&&(o.returnNewDocument=!0)),this.service.callFunction("findOneAndUpdate",[o],this.codec)},e.prototype.findOneAndReplace=function(e,t,n){var o=C({},this.baseOperationArgs);return o.filter=e,o.update=t,n&&(n.projection&&(o.projection=n.projection),n.sort&&(o.sort=n.sort),n.upsert&&(o.upsert=!0),n.returnNewDocument&&(o.returnNewDocument=!0)),this.service.callFunction("findOneAndReplace",[o],this.codec)},e.prototype.findOneAndDelete=function(e,t){var n=C({},this.baseOperationArgs);return n.filter=e,t&&(t.projection&&(n.projection=t.projection),t.sort&&(n.sort=t.sort)),this.service.callFunction("findOneAndDelete",[n],this.codec)},e.prototype.aggregate=function(e){var t=C({},this.baseOperationArgs);return t.pipeline=e,new i("aggregate",t,this.service,this.codec)},e.prototype.count=function(e,t){void 0===e&&(e={});var n=C({},this.baseOperationArgs);return n.query=e,t&&t.limit&&(n.limit=t.limit),this.service.callFunction("count",[n])},e.prototype.insertOne=function(e){var t=C({},this.baseOperationArgs);return t.document=this.generateObjectIdIfMissing(this.codec?this.codec.encode(e):e),this.service.callFunction("insertOne",[t],A.remoteInsertOneResultDecoder)},e.prototype.insertMany=function(e){var t=this,n=C({},this.baseOperationArgs);return n.documents=e.map((function(e){return t.generateObjectIdIfMissing(t.codec?t.codec.encode(e):e)})),this.service.callFunction("insertMany",[n],A.remoteInsertManyResultDecoder)},e.prototype.deleteOne=function(e){return this.executeDelete(e,!1)},e.prototype.deleteMany=function(e){return this.executeDelete(e,!0)},e.prototype.updateOne=function(e,t,n){return this.executeUpdate(e,t,n,!1)},e.prototype.updateMany=function(e,t,n){return this.executeUpdate(e,t,n,!0)},e.prototype.watch=function(e){var t=C({},this.baseOperationArgs);return void 0!==e&&(e instanceof Array?0!==e.length&&(t.ids=e):e instanceof Object&&(t.filter=e)),t.useCompactEvents=!1,this.service.streamFunction("watch",[t],new A.ChangeEventDecoder(this.codec))},e.prototype.watchCompact=function(e){var t=C({},this.baseOperationArgs);return t.ids=e,t.useCompactEvents=!0,this.service.streamFunction("watch",[t],new A.CompactChangeEventDecoder(this.codec))},e.prototype.executeDelete=function(e,t){var n=C({},this.baseOperationArgs);return n.query=e,this.service.callFunction(t?"deleteMany":"deleteOne",[n],A.remoteDeleteResultDecoder)},e.prototype.executeUpdate=function(e,t,n,o){void 0===o&&(o=!1);var r=C({},this.baseOperationArgs);return r.query=e,r.update=t,n&&n.upsert&&(r.upsert=n.upsert),this.service.callFunction(o?"updateMany":"updateOne",[r],A.remoteUpdateResultDecoder)},e.prototype.generateObjectIdIfMissing=function(e){if(!e._id){var t=e;return t._id=new r.b.ObjectID,t}return e},e}(),U=function(){function e(e,t){this.name=e,this.service=t}return e.prototype.collection=function(e,t){return new j(e,this.name,this.service,t)},e}(),R=function(){function e(e){this.service=e}return e.prototype.db=function(e){return new U(e,this.service)},e}();n.d(t,"a",(function(){return R}))}}]);